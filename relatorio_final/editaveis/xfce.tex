\chapter{Introdução}
\label{introducao}
A disciplina de Princípios de Robótica Educacional tem como orientação a competição já consolidada Lego Nature’s Fury, que contém regras, tarefas, objetivos e critérios para nortear a competição. Portanto, a disciplina se baseia numa competição com os mesmos moldes do Nature’s Fury, existindo assim vários times, que são completamente livres para definir quais tarefas irão fazer, de que maneira o robô será escrito, quais critérios irá atender e quais não, bem como outras coisas descritas no guia do Nature’s Fury.

Contudo, todos os resultados obtidos necessitam ser documentados, e este é o objetivo deste documento. Aqui serão descritas as atividades/missões cumpridas pelo time, justificativas (a respeito do porquê da prioridade de determinadas tarefas), explicações de como se chegar ao resultado obtido, bem como análises.

\chapter{Objetivos}
\section{Objetivo Geral}
O objetivo geral do desafio é construir um robô que execute o maior número de missões (conseguindo assim um maior número de pontos) em um tempo de, no máximo, dois minutos e meio.
\section{Objetivos específicos}
\begin{itemize}
\item Construir um robô utilizando peças do kit Lego Mindstorms;
\item Executar as missões, afim de se obter êxito;
\item Elaborar um relatório descrevendo os passos e explicando as escolhas definidas para cada uma das missões.
\end{itemize}

\chapter{Equipe}
A equipe é formada por 6 alunos da disciplina de Princípios de Robótica Educacional, que estão listados abaixo:

\begin{itemize}
\item Dylan Guedes;
\item Geovanni Oliveira;
\item Hebert Douglas;
\item Tallys Martins;
\item Victor Carvalho;
\item Vitor Meireles.
\end{itemize}

\chapter{Robô}
O robô é montado a partir de peças disponíveis do kit Lego Mindstorms. O kit contém diversas peças de encaixe, três sensores (diferentes entre si) e um cérebro. A montagem do robô é livre, sendo assim, os alunos podem modelar o robô da maneira que lhes for conveniente.

\section{Estrutura do Robô}
A estrutura do robô seguiu o padrão tanque, utilizando para a movimentação as esteiras. O grupo optou por essa modelagem pois, dessa maneira, o robô adquire centro de massa conveniente para as missões, sendo mais flexível a mudanças (do tipo aumentar a velocidade com que ele se movimenta), entre outras coisas. A garra utilizada para determinadas missões é em formato de meio-quadrado, e é fixa (sendo assim, deverá ser trocada para missões futuras). A garra escolhida é grande e foi crucial para as missões concluidas. A estrutura do robô pode ser visualizada com mais detalhes no Apêndice \ref{imagens}.

\section{Linguagem adotada}
Inicialmente o grupo tinha maior interesse na linguagem Java, principalmente pela parte de orientação a objetos. Contudo, uma escolha posterior foi feita, e a linguagem utilizada atualmente pelo time é a linguagem NXC. A razão é o fato da sintaxe ser familiar à todos os integrantes do grupo (muito similar à linguagem C), e oferece padrões que serão explorados mais pra frente, como por exemplo, a parte de programação paralela usando tasks (similar à utilização de threads).

\chapter{Missões}
\section{Descrição}

\begin{table}[h]
\begin{tabular}{|p{3.5cm}|p{7.5cm}|c|c|}
\hline
\multicolumn{1}{|c|}{\textbf{Nome da missão}} & \multicolumn{1}{c|}{\textbf{Descrição}}                                                                                                                  & \multicolumn{1}{c|}{\textbf{Pontuação}} & \multicolumn{1}{c|}{\textbf{Dificuldade}} \\ \hline
Ambulância                                    & Uma ambulância se encontra no mapa do desafio. O objetivo é que o robô empurre a ambulância sem virar ou tombá-la até a parte indicada no mapa, em azul. & 25                                      & Média                                     \\ \hline
Caminhão                                      & Um caminhão se encontra no mapa do desafio. O objetivo é que o robô empurre o caminhão sem virar ou tombar até a parte indicada no mapa, em azul.        & 20                                      & Média                                     \\ \hline
Seta                                          & Uma seta é localizada no mapa. O robô tem como objetivo empurrar a seta, levantando assim a placa.                                                       & 30                                      & Média                                     \\ \hline
Tsunami                                       & Uma rampa deve sofrer colisão, derrubando assim os canudos armazenados.                                                       & 20                                      & Fácil                                     \\ \hline
Family                                        & O robô deve deve carregar três pessoas juntas (a famíia), até uma área colorida. & 33*2 & Média                                    \\ \hline
Tree Branch                                   & O robô deve derrubar o galho da árvore sem deixar que caia no poste.                                        & 30        & Médio         \\ \hline
Safe Place                                    & O robô deve chegar com segurança à área vermelha do mapa.                                     & 25                                      & Fácil                                     \\ \hline
Uso de sensor                                 & O robô deve usar, de maneira util, algum dos sensores no auxílio das missões.                                     & 25                                      & Média                                     \\ \hline
Música                                 & O robô deve emitir sons em algum momento durante a execução de alguma missão.                                     & 5                                      & Fácil                                     \\ \hline
Supplies and Equipment                         & Os itens presentes no caminhão devem chegar de maneira segura até a área demarcada no mapa.                                     & 3*3                                      & Dificil                                     \\ \hline
Water                                 & O robô deve carregar a pessoa junto com a água   & 15    & Fácil \\ \hline
Safety                         & Pessoas devem permanecer na área vermelha do mapa durante a execução das missões.                                     & 18                                      & Média                                     \\ \hline
Gerador                   & O robô deve levar o gerador até a área vermelha.        &   4   & Fácil   \\ \hline
Runway                         & Nada deve tocar a área de evacuação do tapete (área próxima à seta).                                     & 30                                      & Média                                     \\ \hline




\end{tabular}
\end{table}

\section{Contagem dos pontos}
\begin{equation}
  T1 = 40+80+75+5+9+18 = 227
\end{equation}
\begin{equation}
  T2 = 30+33+30+18+4 = 115
\end{equation}
\begin{equation}
  T3 = 33+15+18 = 66
\end{equation}
\begin{equation}
  TOTAL = 227+115+66 = 407
\end{equation}

\section{Priorização}

As missões são feitas em uma determinada ordem determinada pelo grupo baseado. Essas escolhas são feitas levando-se em consideração quão perto uma tarefa se encontra de outra (seguindo assim um fluxo comum, economizando tempo), quão dificil é uma tarefa comparado à quantidade de pontos que ela proporciona, e se era possível realizar tal tarefa (nem todas as tarefas dispõe dos obstáculos neste momento).

A priorização escolhida foi:

\begin{enumerate}
\item Caminhão e Ambulância
\item Supplies and Equipment;
\item Voltar para a base
\item Tsunami com Sensor;
\item Captura item e leva para a base;
\item Galho da Arvore;
\item Seta
\item Safe Place
\item Música
\item Runway;
\item Safety;
\end{enumerate}

\section{Justificativa}
Como já citado, seguindo-se um fluxo comum de tarefas, o tempo é otimizado. Começa-se com a tarefa Caminhão e Ambulância, pois é a missão mais difícil, e, caso ela fracasse, uma nova tentativa já é feita. Em seguida, volta-se a base, e então é feito o Tsunami. O Tsunami fica perto do galho, dos itens, e da base, logo essas três coisas são feitas uma após a outra, mas a ordem não importa. Ao fim, o robô volta à base, é ajeitado, e a missão da seta é feita, em seguida a do gerador, a música é tocada, finalizando assim o desafio.

\chapter{Solução em Software das missões}

Para a codificação das missões sentiu-se a necessidade de realizar a modularização das implentações o código abaixo foi denominado como \textbf{\textit{moviment.nxc}}, que engloba todas as implementações referentes aos movimentos do robô.

\lstinputlisting[language=C]{../moviment.nxc}
% \begin{lstlisting}[numbers=none, breaklines=true]
% \end{lstlisting}

A vantagem dessa modularização é que o código das missões fica mais enxuto facilitando a leitura e o desenvolvimento pois a implementação segue a lógica em que cada chamada de função é um passo a ser realizado para completá-las. Abaixo segue o código do arquivo \textbf{\textit{mission1.nxc}} e \textbf{\textit{mission2.nxc}} com as missões realizadas (Trator, Ambulância, Seta, Área vermelha, Tsunami, etc).

\lstinputlisting[language=C]{../mission1.nxc}
\lstinputlisting[language=C]{../mission2.nxc}
\lstinputlisting[language=C]{../sensor.nxc}

Além disso foi criado um arquivo \textit{MakeFile} para definir regras e facilitar compilação dos códigos realizados.

\lstinputlisting[language=make]{../Makefile}

